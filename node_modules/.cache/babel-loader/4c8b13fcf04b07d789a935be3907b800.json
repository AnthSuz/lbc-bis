{"ast":null,"code":"import _slicedToArray from \"/Users/anthonysuzanne/LeReacteur/React/09/lbc-bis/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anthonysuzanne/LeReacteur/React/09/lbc-bis/src/components/Publish.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst Publish = props => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        title = _useState2[0],\n        setTitle = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        description = _useState4[0],\n        setDescription = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        price = _useState6[0],\n        setPrice = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        file = _useState8[0],\n        setFile = _useState8[1];\n\n  const userToken = // \"zcJ8DHdAFTPH2JV8wRDb50kL0IgkquESMC3XAJuduoEP717J2en46sjNX0kzcdCv\";\n  props.token;\n  return React.createElement(\"div\", {\n    className: \"container box-shadow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"publish\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"publish--inside\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"D\\xE9poser une annonce\"), React.createElement(\"form\", {\n    onSubmit: async event => {\n      event.preventDefault();\n\n      if (props.token) {\n        const formData = new FormData();\n        formData.append(\"title\", title);\n        formData.append(\"description\", description);\n        formData.append(\"price\", price);\n        formData.append(\"file\", file);\n        const response = await axios.post(\"https://leboncoin-api.herokuapp.com/api/offer/publish\", formData, {\n          headers: {\n            Authorization: \"Bearer \" + userToken\n          }\n        });\n        console.log(response.data);\n        setTitle(\"\");\n        setDescription(\"\");\n        setPrice(\"\");\n        setFile(\"\");\n      } else {\n        props.setShowModal(true);\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"publish--title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Titre de l'annonce *\"), React.createElement(\"input\", {\n    type: \"text\",\n    value: title,\n    onChange: event => {\n      setTitle(event.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"publish--description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Description de l'annonce *\"), React.createElement(\"textarea\", {\n    rows: \"4\",\n    cols: \"50\",\n    value: description,\n    onChange: event => {\n      setDescription(event.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"publish--price\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Prix *\"), React.createElement(\"input\", {\n    type: \"number\",\n    value: price,\n    onChange: event => {\n      setPrice(event.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \" \\u20AC\")), React.createElement(\"div\", {\n    className: \"publish--pictures\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Photo *\"), React.createElement(\"input\", {\n    type: \"file\",\n    onChange: event => {\n      setFile(event.target.files[0]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"publish--submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }))))));\n};\n\nexport default Publish;","map":{"version":3,"sources":["/Users/anthonysuzanne/LeReacteur/React/09/lbc-bis/src/components/Publish.js"],"names":["React","useState","axios","Publish","props","title","setTitle","description","setDescription","price","setPrice","file","setFile","userToken","token","event","preventDefault","formData","FormData","append","response","post","headers","Authorization","console","log","data","setShowModal","target","value","files"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst Publish = props => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n\n  const userToken =\n    // \"zcJ8DHdAFTPH2JV8wRDb50kL0IgkquESMC3XAJuduoEP717J2en46sjNX0kzcdCv\";\n    props.token;\n  return (\n    <div className=\"container box-shadow\">\n      <div className=\"publish\">\n        <div className=\"publish--inside\">\n          <h2>DÃ©poser une annonce</h2>\n          <form\n            onSubmit={async event => {\n              event.preventDefault();\n              if (props.token) {\n                const formData = new FormData();\n                formData.append(\"title\", title);\n                formData.append(\"description\", description);\n                formData.append(\"price\", price);\n                formData.append(\"file\", file);\n\n                const response = await axios.post(\n                  \"https://leboncoin-api.herokuapp.com/api/offer/publish\",\n                  formData,\n                  {\n                    headers: {\n                      Authorization: \"Bearer \" + userToken\n                    }\n                  }\n                );\n\n                console.log(response.data);\n                setTitle(\"\");\n                setDescription(\"\");\n                setPrice(\"\");\n                setFile(\"\");\n              } else {\n                props.setShowModal(true);\n              }\n            }}\n          >\n            <div className=\"publish--title\">\n              <p>Titre de l'annonce *</p>\n              <input\n                type=\"text\"\n                value={title}\n                onChange={event => {\n                  setTitle(event.target.value);\n                }}\n              />\n            </div>\n\n            <div className=\"publish--description\">\n              <p>Description de l'annonce *</p>\n              <textarea\n                rows=\"4\"\n                cols=\"50\"\n                value={description}\n                onChange={event => {\n                  setDescription(event.target.value);\n                }}\n              ></textarea>\n            </div>\n\n            <div className=\"publish--price\">\n              <p>Prix *</p>\n              <input\n                type=\"number\"\n                value={price}\n                onChange={event => {\n                  setPrice(event.target.value);\n                }}\n              />\n              <span> â¬</span>\n            </div>\n\n            <div className=\"publish--pictures\">\n              <p>Photo *</p>\n              <input\n                type=\"file\"\n                onChange={event => {\n                  setFile(event.target.files[0]);\n                }}\n              />\n              <br />\n            </div>\n            <div className=\"publish--submit\">\n              <input type=\"submit\" />\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Publish;\n"]},"metadata":{},"sourceType":"module"}