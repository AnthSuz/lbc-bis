{"ast":null,"code":"import _slicedToArray from \"/Users/anthonysuzanne/LeReacteur/React/09/lbc-bis/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anthonysuzanne/LeReacteur/React/09/lbc-bis/src/components/Offers.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Null from \"../images/img-null.png\";\nimport { Link } from \"react-router-dom\";\nimport Wen from \"../svg/Wen\";\nimport Footer from \"../containers/Footer\";\nimport LeftPage from \"../svg/LeftPage\";\nimport LeftPageBlue from \"../svg/LeftPageBlue\";\nimport RightPageBlue from \"../svg/RightPageBlue\";\nimport RightPage from \"../svg/RightPage\";\nimport axios from \"axios\";\n\nconst Offers = () => {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        isLoading = _useState2[0],\n        setIsLoading = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        card = _useState4[0],\n        setCard = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        page = _useState6[0],\n        setPage = _useState6[1];\n\n  const _useState7 = useState(),\n        _useState8 = _slicedToArray(_useState7, 2),\n        count = _useState8[0],\n        setCount = _useState8[1];\n\n  const limit = 5;\n  const tab = [];\n\n  const fetchData = async () => {\n    try {\n      const response = await axios.get(\"https://leboncoin-api.herokuapp.com/api/offer/with-count?skip=\" + page + \"&limit=\" + limit);\n      setIsLoading(false);\n      setCard(response.data.offers);\n      setCount(response.data.count);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  for (let i = 0; i < count / limit; i++) {\n    tab.push(i + 1);\n  }\n\n  console.log(\"tab here \" + tab);\n  useEffect(() => {\n    fetchData();\n  }, [page]);\n  return React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container pv-50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search--box br-5 box-shadow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Wen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    size: \"25\",\n    placeholder: \"Que recherchez-vous ?\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"search--button--blue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Rechercher\"))), isLoading === true ? React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Chargement en cours ...\") : React.createElement(\"div\", {\n    className: \"container offers\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, card.map((annonce, index) => {\n    return React.createElement(Link, {\n      to: \"/offer/\" + annonce._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      className: \"box-shadow overflow-hidden br-5 mb-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bg-silver d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, annonce.pictures[0] !== undefined ? React.createElement(\"img\", {\n      src: annonce.pictures[0],\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: Null,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      className: \"white description p-15 inside--description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"top-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, annonce.title), React.createElement(\"li\", {\n      className: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, annonce.price, \" \\u20AC\")), React.createElement(\"div\", {\n      className: \"bottom-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, annonce.created)))));\n  }), React.createElement(\"div\", {\n    className: \"array--pages\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, page === 0 ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, page === 0 ? React.createElement(LeftPage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }) : React.createElement(LeftPageBlue, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })) : React.createElement(\"span\", {\n    onClick: () => {\n      setPage(page - limit);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, page === 0 ? React.createElement(LeftPage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }) : React.createElement(LeftPageBlue, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })), tab.map(array => {\n    return React.createElement(React.Fragment, null, React.createElement(\"p\", {\n      onClick: () => {\n        setPage(array * limit - limit);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, array));\n  }), page === (tab.length - 1) * limit ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, page === (tab.length - 1) * limit ? React.createElement(RightPage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }) : React.createElement(RightPageBlue, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  })) : React.createElement(\"span\", {\n    onClick: () => {\n      setPage(page + limit);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, page === (tab.length - 1) * limit ? React.createElement(RightPage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }) : React.createElement(RightPageBlue, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  })))), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }));\n};\n\nexport default Offers;","map":{"version":3,"sources":["/Users/anthonysuzanne/LeReacteur/React/09/lbc-bis/src/components/Offers.js"],"names":["React","useState","useEffect","Null","Link","Wen","Footer","LeftPage","LeftPageBlue","RightPageBlue","RightPage","axios","Offers","isLoading","setIsLoading","card","setCard","page","setPage","count","setCount","limit","tab","fetchData","response","get","data","offers","error","console","log","i","push","map","annonce","index","_id","pictures","undefined","title","price","created","array","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Null from \"../images/img-null.png\";\nimport { Link } from \"react-router-dom\";\nimport Wen from \"../svg/Wen\";\nimport Footer from \"../containers/Footer\";\n\nimport LeftPage from \"../svg/LeftPage\";\nimport LeftPageBlue from \"../svg/LeftPageBlue\";\n\nimport RightPageBlue from \"../svg/RightPageBlue\";\nimport RightPage from \"../svg/RightPage\";\n\nimport axios from \"axios\";\n\nconst Offers = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [card, setCard] = useState([]);\n  const [page, setPage] = useState(0);\n  const [count, setCount] = useState();\n  const limit = 5;\n  const tab = [];\n\n  const fetchData = async () => {\n    try {\n      const response = await axios.get(\n        \"https://leboncoin-api.herokuapp.com/api/offer/with-count?skip=\" +\n          page +\n          \"&limit=\" +\n          limit\n      );\n      setIsLoading(false);\n      setCard(response.data.offers);\n      setCount(response.data.count);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  for (let i = 0; i < count / limit; i++) {\n    tab.push(i + 1);\n  }\n\n  console.log(\"tab here \" + tab);\n\n  useEffect(() => {\n    fetchData();\n  }, [page]);\n\n  return (\n    <section>\n      <div className=\"container pv-50\">\n        <div className=\"search--box br-5 box-shadow\">\n          <div className=\"search\">\n            <Wen />\n            <input type=\"text\" size=\"25\" placeholder=\"Que recherchez-vous ?\" />\n          </div>\n\n          <button className=\"search--button--blue\">Rechercher</button>\n        </div>\n      </div>\n      {/* OFFERS */}\n      {isLoading === true ? (\n        <p>Chargement en cours ...</p>\n      ) : (\n        <div className=\"container offers\">\n          {card.map((annonce, index) => {\n            return (\n              <Link to={\"/offer/\" + annonce._id}>\n                <article className=\"box-shadow overflow-hidden br-5 mb-20\">\n                  <div className=\"bg-silver d-flex\">\n                    {annonce.pictures[0] !== undefined ? (\n                      <img src={annonce.pictures[0]} alt=\"\" />\n                    ) : (\n                      <img src={Null} alt=\"\" />\n                    )}\n                  </div>\n\n                  <ul className=\"white description p-15 inside--description\">\n                    <div className=\"top-description\">\n                      <li className=\"title\">{annonce.title}</li>\n                      <li className=\"price\">{annonce.price} €</li>\n                    </div>\n\n                    <div className=\"bottom-description\">\n                      <li className=\"date\">{annonce.created}</li>\n                    </div>\n                  </ul>\n                </article>\n              </Link>\n            );\n          })}\n          <div className=\"array--pages\">\n            {page === 0 ? (\n              <span>{page === 0 ? <LeftPage /> : <LeftPageBlue />}</span>\n            ) : (\n              <span\n                onClick={() => {\n                  setPage(page - limit);\n                }}\n              >\n                {page === 0 ? <LeftPage /> : <LeftPageBlue />}\n              </span>\n            )}\n\n            {tab.map(array => {\n              return (\n                <>\n                  <p\n                    onClick={() => {\n                      setPage(array * limit - limit);\n                    }}\n                  >\n                    {array}\n                  </p>\n                </>\n              );\n            })}\n\n            {page === (tab.length - 1) * limit ? (\n              <span>\n                {page === (tab.length - 1) * limit ? (\n                  <RightPage />\n                ) : (\n                  <RightPageBlue />\n                )}\n              </span>\n            ) : (\n              <span\n                onClick={() => {\n                  setPage(page + limit);\n                }}\n              >\n                {page === (tab.length - 1) * limit ? (\n                  <RightPage />\n                ) : (\n                  <RightPageBlue />\n                )}\n              </span>\n            )}\n\n            {/* {page === (tab.length - 1) * limit ? (\n              <RightPage />\n            ) : (\n              <RightPageBlue />\n            )} */}\n          </div>\n        </div>\n      )}\n      <Footer />\n    </section>\n  );\n};\nexport default Offers;\n"]},"metadata":{},"sourceType":"module"}