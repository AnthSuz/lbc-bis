{"ast":null,"code":"import _slicedToArray from \"/Users/anthonysuzanne/LeReacteur/React/09/lbc-bis/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anthonysuzanne/LeReacteur/React/09/lbc-bis/src/components/Offers.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Wen from \"../svg/Wen\";\nimport axios from \"axios\";\n\nconst Offers = () => {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        isLoading = _useState2[0],\n        setIsLoading = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        card = _useState4[0],\n        setCard = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        page = _useState6[0],\n        setPage = _useState6[1];\n\n  const _useState7 = useState(),\n        _useState8 = _slicedToArray(_useState7, 2),\n        count = _useState8[0],\n        setCount = _useState8[1];\n\n  const limit = 5;\n  const tab = [];\n\n  const fetchData = async () => {\n    try {\n      const response = await axios.get(\"https://leboncoin-api.herokuapp.com/api/offer/with-count?skip\" + page + \"&limit=\" + limit);\n      setIsLoading(false);\n      setCard(response.data.offers);\n      setCount(response.data.count);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  for (let i = 0; i < count / limit; i++) {\n    tab.push(i + 1);\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, [page]);\n  return React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container pv-50 green\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search--box br-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Wen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    size: \"25\",\n    placeholder: \"Que recherchez-vous ?\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"search--button--blue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Rechercher\"))), isLoading === true ? React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Chargement en cours ...\") : React.createElement(\"div\", {\n    className: \"container offers\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, card.map((annonce, index) => {\n    return React.createElement(Link, {\n      to: \"/offer/\" + annonce._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      className: \" box-shadow overflow-hidden br-5 mb-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bg-silver d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: annonce.pictures[0],\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      className: \"blue description p-15 inside--description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"top-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, annonce.title), React.createElement(\"li\", {\n      className: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, annonce.price, \" \\u20AC\")), React.createElement(\"div\", {\n      className: \"bottom-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, annonce.created)))));\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Bouton PLUS\"), tab.map(array => {\n    return React.createElement(React.Fragment, null, React.createElement(\"button\", {\n      onClick: () => {\n        setPage(array * limit - limit);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, array));\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Bouton MOINS\")));\n};\n\nexport default Offers;","map":{"version":3,"sources":["/Users/anthonysuzanne/LeReacteur/React/09/lbc-bis/src/components/Offers.js"],"names":["React","useState","useEffect","Link","Wen","axios","Offers","isLoading","setIsLoading","card","setCard","page","setPage","count","setCount","limit","tab","fetchData","response","get","data","offers","error","console","log","i","push","map","annonce","index","_id","pictures","title","price","created","array"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Wen from \"../svg/Wen\";\n\nimport axios from \"axios\";\n\nconst Offers = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [card, setCard] = useState([]);\n  const [page, setPage] = useState();\n  const [count, setCount] = useState();\n  const limit = 5;\n  const tab = [];\n\n  const fetchData = async () => {\n    try {\n      const response = await axios.get(\n        \"https://leboncoin-api.herokuapp.com/api/offer/with-count?skip\" +\n          page +\n          \"&limit=\" +\n          limit\n      );\n      setIsLoading(false);\n      setCard(response.data.offers);\n      setCount(response.data.count);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  for (let i = 0; i < count / limit; i++) {\n    tab.push(i + 1);\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, [page]);\n\n  return (\n    <section>\n      <div className=\"container pv-50 green\">\n        <div className=\"search--box br-5\">\n          <div className=\"search\">\n            <Wen />\n            <input type=\"text\" size=\"25\" placeholder=\"Que recherchez-vous ?\" />\n          </div>\n\n          <button className=\"search--button--blue\">Rechercher</button>\n        </div>\n      </div>\n      {/* OFFERS */}\n      {isLoading === true ? (\n        <p>Chargement en cours ...</p>\n      ) : (\n        <div className=\"container offers\">\n          {card.map((annonce, index) => {\n            return (\n              <Link to={\"/offer/\" + annonce._id}>\n                <article className=\" box-shadow overflow-hidden br-5 mb-20\">\n                  <div className=\"bg-silver d-flex\">\n                    <img src={annonce.pictures[0]} alt=\"\" />\n                  </div>\n\n                  <ul className=\"blue description p-15 inside--description\">\n                    <div className=\"top-description\">\n                      <li className=\"title\">{annonce.title}</li>\n                      <li className=\"price\">{annonce.price} €</li>\n                    </div>\n\n                    <div className=\"bottom-description\">\n                      <li className=\"date\">{annonce.created}</li>\n                    </div>\n                  </ul>\n                </article>\n              </Link>\n            );\n          })}\n          <p>Bouton PLUS</p>\n          {tab.map(array => {\n            return (\n              <>\n                <button\n                  onClick={() => {\n                    setPage(array * limit - limit);\n                  }}\n                >\n                  {array}\n                </button>\n              </>\n            );\n          })}\n          <p>Bouton MOINS</p>\n        </div>\n      )}\n    </section>\n  );\n};\nexport default Offers;\n"]},"metadata":{},"sourceType":"module"}